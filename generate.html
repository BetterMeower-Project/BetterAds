<script>
	const SPECIAL = (Math.random() + 1).toString(36).substring(5)
</script>
<body></body>
<script>
  var adverts = {
        "username": "BetterAds",
	    "ads": [
			{
				"owner": "https://github.com/BetterMeower-Project",
				"description": "Click here to try BetterMeower",
				"img_link": "https://adservice.bettermeower.app/assets/public/btor-adv1.png",
				"link": "https://bettermeower.app"
			},
			{
				"owner": "https://github.com/OSMANiCTeam",
				"description": "OSMANiC",
				"img_link": "https://adservice.bettermeower.app/assets/public/omnc-adv1.png",
				"link": "https://osmanic.net"
			},
			{
				"owner": "https://github.com/JoshAtticus",
				"description": "Visit the new JoshAtticus website",
				"img_link": "https://adservice.bettermeower.app/assets/public/jstit-adv1.png",
				"link": "https://joshatticus.is-a.dev"
			},
			{
				"owner": "https://thewind.bettermeower.app",
				"description": "The wind",
				"img_link": "https://adservice.bettermeower.app/assets/public/ten-adv1.png",
				"link": "https://thewind.bettermeower.app"
			},
			{
				"owner": "https://github.com/mdwalters",
				"description": "Ihavenoideasforaprojectname",
				"img_link": "https://adservice.bettermeower.app/assets/public/mwles-adv1.JPG",
				"link": "https://ihavenoideasforaprojectname.pages.dev/"
			}
	    ]
  }
  
  /*
  <div id="advert">
    <a style="cursor:pointer;" id="advertLink" onclick="window.open(advertLink, '_parent')"> <img id="advertRandom" width="728" height="90"></a>
    <button class="button close" id="close" onclick="removeimage()">x</button><button class="button info" onclick="window.open('https://adservice.bettermeower.app/', '_parent')" style="margin-right:20px;">i</button>
    <button class="button icon" onclick="alert('Ad service provided by the BetterMeower Project. Hosted on Cloudflare Pages. Learn more at https://github.com/BetterMeower-Project/BetterAds. Email adservice@bettermeower.app')">AD</button>
  </div>
  */

  var advertType = Math.floor(Math.random() * adverts.ads.length);
  var chosenAdvert = adverts.ads[advertType]
  
  let style_src = `
  @import url('https://fonts.googleapis.com/css2?family=Open+Sans&display=swap');
    body{
      margin:0em;
      font-family: 'Open Sans', sans-serif;
    }
    #advert-${SPECIAL} {
    position: absolute;
      width:728px; height:90px;
    }

    #advert-${SPECIAL} .button{
		float:right;
    margin-top:0px;
    position: absolute;
      right: 0px;
      top: 0px;
    z-index:10;
    cursor:pointer;
    background:white;
    border:0.5px solid gray;
    width:20px;
    background: linear-gradient(0deg, rgba(190,190,190,1) 0%, rgba(255,255,255,1) 60%);
    }
    #advert-${SPECIAL} .button:hover{
    background:lightgray;
    background: linear-gradient(0deg, rgba(224,224,224,1) 0%, rgba(190,190,190,1) 50%);
    }
    #advert-${SPECIAL} .button.close{
    border-left:opx solid black;
    }
    #advert-${SPECIAL} .button.info{
    margin-right: 20px;
    border-right:0px solid black;
    border-radius:0px 0px 0px 5px;
    }
    #advert-${SPECIAL} .button.icon{
    left: 0px;
      top: 0px;
    width:35;
    border-radius:0px 0px 5px 0px;
    }
    


#advert-${SPECIAL} {
  background: linear-gradient(0deg, rgb(225, 227, 203) 0%, rgb(255, 249, 229) 50%);
  background-image: url('https://adservice.bettermeower.app/assets/images/background-text.png');
  background-size: 100%;
}
  `
  let css = document.createElement('style')
  css.type = 'text/css';
  css.appendChild(document.createTextNode(style_src))
  document.body.appendChild(css)
	
  let div = document.createElement('div')
  div.id = "advert-" + SPECIAL
	
  let link = document.createElement('a')
  link.style = "cursor:pointer;"
  link.id = "advertLink-" + SPECIAL
  link.target = "_parent"
  link.href = chosenAdvert.link
  link.title = chosenAdvert.description
  div.appendChild(link)
	
  let ad = document.createElement('img')
  ad.id = "advertRandom-" + SPECIAL
  ad.src = chosenAdvert.img_link
  ad.width = 728
  ad.height = 90
  link.appendChild(ad)
	
  let close = document.createElement('button')
  close.className = "button close"
  close.onclick = () => {
      document.getElementById('advertRandom-' + SPECIAL).src = 'https://adservice.bettermeower.app/assets/images/removed.png'
	  let link = document.getElementByID('advertLink-' + SPECIAL)
	  link.title = "Ad removed"
	  link.href = document.location.href
	  link.style += "display:none;"
  }
  close.innerHTML = "x"
  div.appendChild(close)
  
  let info = document.createElement('button')
  info.className = "button info"
  info.onclick = () => {
      window.open('https://adservice.bettermeower.app/', '_parent')
  }
  info.innerHTML = "i"
  div.appendChild(info)
  
  let ad_btn = document.createElement('button')
  ad_btn.className = "button icon"
  ad_btn.onclick = () => {
      alert('Ad service provided by the BetterMeower Project. Hosted on Cloudflare Pages. Learn more at https://github.com/BetterMeower-Project/BetterAds. Email adservice@bettermeower.app')
  }
  ad_btn.innerHTML = "AD"
  div.appendChild(ad_btn)

  document.body.appendChild(div)
</script>
